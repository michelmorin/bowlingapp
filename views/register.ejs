<% include partials/header %>
<div class="row">
    <div class="col s10 offset-s1 m8 offset-m2 l8 offset-l3 xl5 offset-xl3">
        <div class="card">
            <div class="card-content"> 
                <h4 style="margin-top:0px;text-align:center">Create Account</h4>
                <div class="divider"></div>
                <br>
                <form action="/register" method="post">
                    <div class="row">
                        <div class="center col s12">
                            <img class="rounded-image" src="/img/defaultuser.jpg" style="vertical-align: middle;" alt="" width="150px" height="150px">
                        </div>
                        <div class="input-field col s12">
                            <i class="fas fa-user prefix"></i>
                            <label for="name">Name</label>
                            <input type="text" name="name" id="name" maxlength="50" autocomplete="name" required
                            <% if (sessionFlash && (sessionFlash.nameErrorMsg) ) { %>
                                class="invalid" 
                            <% } else { %>
                                    class="validate" 
                            <% } %>
                                value="<% if (sessionFlash && (sessionFlash.name) ) { %><%= sessionFlash.name %><% } %>" autofocus/>
                            <% if (sessionFlash && (sessionFlash.nameErrorMsg) ) { %>
                                    <span class="helper-text" data-error="<%= sessionFlash.nameErrorMsg %>"></span>
                            <% } %> 
                        </div>
                        <div class="input-field col s12">
                                <i class="fas fa-envelope prefix"></i>
                            <label for="email">Email Address</label>
                            <input type="email" name="email" id="email" autocomplete="email"
                            <% if (sessionFlash && (sessionFlash.emailErrorMsg) ) { %>
                                class="invalid" 
                            <% } else { %>
                                    class="validate" 
                            <% } %>
                                value="<% if (sessionFlash && (sessionFlash.email) ) { %><%= sessionFlash.email %><% } %>"/>
                            <% if (sessionFlash && (sessionFlash.emailErrorMsg) ) { %>
                                    <span class="helper-text" data-error="<%= sessionFlash.emailErrorMsg %>"></span>
                            <% } %>
                            <span class="helper-text">Optional:  Required to request forgotten password.</span>
                        </div>
                        <div class="input-field col s12">
                            <i class="fas fa-key prefix"></i>
                            <label for="username">Username</label>
                            <input type="text" maxlength="50" name="username" id="username" autocomplete="username" required 
                            <% if (sessionFlash && (sessionFlash.usernameErrorMsg) ) { %>
                            class="invalid" 
                            <% } else { %>
                                class="validate" 
                            <% } %>
                            value="<% if (sessionFlash && (sessionFlash.username) ) { %><%= sessionFlash.username %><% } %>"/>
                            <% if (sessionFlash && (sessionFlash.usernameErroMsg) ) { %>
                                <span class="helper-text" data-error="<%= sessionFlash.usernameErrorMsg %>"></span>
                            <% } %> 
                            <span class="helper-text">Username is case sensitive and required to login</span>
                        </div>
                        <div class="input-field col s12">
                            <i class="fas fa-lock prefix"></i>
                            <label for="password">Password</label>
                            <input type="password" minlength="8" maxlength="50" name="password" id="password1" required
                            <% if (sessionFlash && (sessionFlash.passwordErrorMsg) ) { %>
                                class="invalid" />
                            <% } else { %>
                                    class="validate" />
                            <% } %>
                            
                            <% if (sessionFlash && (sessionFlash.passwordErrorMsg) ) { %>
                                    <span class="helper-text" data-error="<%= sessionFlash.passwordErrorMsg %>"></span>
                            <% } else { %>
                                    <span id="password1-error" class="helper-text" data-error="">Password must be between 8 and 50 characters</span>
                            <% } %> 
                        </div>
                        <div class="input-field col s12">
                            <i class="fas fa-lock prefix"></i>
                            <label for="password2">Confirm Password</label>
                            <input type="password" minlength="8" maxlength="50" name="password2" id="password2" required 
                            <% if (sessionFlash && (sessionFlash.passwordErrorMsg) ) { %>
                                class="invalid" />
                            <% } else { %>
                                    class="validate" />
                            <% } %>
                            <% if (sessionFlash && (sessionFlash.passwordErrorMsg) ) { %>
                                    <span class="helper-text" data-error="<%= sessionFlash.passwordErrorMsg %>"></span>
                            <% } %>
                        </div>
                        <div class="center col s12" style="margin-bottom:20px;margin-top:40px">
                            <input style="width: 100%" type="submit" value="Sign Up" class="btn btn-large blue">
                        </div>
                        <div class="center col s12">
                            <a href="/login" style="width: 100%" class="btn btn-large waves-effect waves-light black">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>    
        </div>
    </div>
</div>
<% include partials/footer %>

